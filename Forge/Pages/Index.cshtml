@page
@model IndexModel
@{
    ViewData["Title"] = "Discover";
}

<nav class="navbar">
    <ul class="navLogo">
        <li>Forge</li>
    </ul>
    <ul class="navLinks">
        <li><a asp-area="" asp-page="/Index">Discover</a></li>
        <li><a asp-area="" asp-page="">Browse</a></li>
        <li><a asp-area="" asp-page="">News</a></li>
        <li><a asp-area="" asp-page="">Library</a></li>
        <li><a class="cartIcon" asp-area="" asp-page="">Cart</a></li>
    </ul>
</nav>

<section class="cover" id="cover">
    <div class="coverText">
        <span id="gameTitle" class="gameTitle">Red Dead Redemption II</span>
        <span id="gameDescription" class="gameDescription">Immersive journey through the Wild West of 1899. Play as Arthur Morgan in a morally intricate narrative, exploring a vast open world teeming with life and stunning landscapes.</span>
    </div>
</section>
<section class="coverButton">
    <span onclick="loadCover(1)">•</span>
    <span onclick="loadCover(2)">•</span>
    <span onclick="loadCover(0)">•</span>
</section>

<!--Using the for loop to display all the game cards-->
@for(int y = 0; y < Model.gameCardsHeading.Length; y++)
{   
    //Get count of the elements in the games list, elements = 15
    int dbGamesCount = Model._dbGames.Count;

    //Get count of the elements in the heading list. elements = 3;
    int cardsHeadingLength = Model.gameCardsHeading.Length;

    //Displaying 5 elements per row, leftPointer indicates to the left hand side
    int leftPointer = (dbGamesCount/cardsHeadingLength) * y;
    //RightPointer will indicate end of the elements in the games list
    int rightPointer = (dbGamesCount / cardsHeadingLength) * y + 5;

    <div class="gamesSection">

        <!--Displaying heading-->
        <p class="gameCardHeading">@Model.gameCardsHeading[y]</p>
        <section class="pickedGames grid">

            @while(leftPointer < rightPointer){
                string imagePath = @Model._dbGames[leftPointer].ImagePath;
                <div class="gameCard">
                    <img class="gameCoverImage" src="@imagePath" alt="GameCover">
                    <p class="gameMessage">Base Game</p>
                    <p class="cardGameTitle">@Model._dbGames[leftPointer].Title</p>
                    <p class="gamePrice">CA$@Model._dbGames[leftPointer].Price</p>
                </div>

                //Increment the leftPointer to print the next element, and push loop towards its end
                leftPointer++;
            }
        </section>
    </div>
}

<section class="unrealEngine">
    <div class="engineLeft">
        <span id="engineVersion"></span>
        <p id="engineName"></p>
    </div>
    <div class="engineRight">
        <span id="engineHeading"></span>
        <p id="engineDescription"></p>
    </div>
</section>

